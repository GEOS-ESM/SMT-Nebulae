
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://geos-esm.github.io/SMT-Nebulae/technical/laundry-list/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../dev-setup/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>The Laundry List 👕 - SMT Knowledge Base</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#laundry-list" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="SMT Knowledge Base" class="md-header__button md-logo" aria-label="SMT Knowledge Base" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SMT Knowledge Base
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              The Laundry List 👕
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SMT Knowledge Base" class="md-nav__button md-logo" aria-label="SMT Knowledge Base" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    SMT Knowledge Base
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Project 2426
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Project 2426
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../project2426/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../project2426/milestone1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Milestone 1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../project2426/milestone2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Milestone 2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../project2426/milestone3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Milestone 3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../project2426/milestone4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Milestone 4
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Results
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Results
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../project2426/results/M2_Sept25/summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Milestone 2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../project2426/results/SC23/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supercomputing 23
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../project2426/results/science-targets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Science Targets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../project2426/results/hpc-metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HPC Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Technical
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Technical
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    The Laundry List 👕
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    The Laundry List 👕
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#performance-related-topics" class="md-nav__link">
    <span class="md-ellipsis">
      ⏱️ Performance related topics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="⏱️ Performance related topics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#planned-optimizations" class="md-nav__link">
    <span class="md-ellipsis">
      Planned optimizations 🚀
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allocation-lifetime-of-temporaries-in-stencils" class="md-nav__link">
    <span class="md-ellipsis">
      Allocation lifetime of temporaries (in stencils) 🗑️
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamics-runtime" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamics runtime 🐌
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-time-of-so-files" class="md-nav__link">
    <span class="md-ellipsis">
      Load time of .so files ⌛
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Load time of .so files ⌛">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#repro" class="md-nav__link">
    <span class="md-ellipsis">
      Repro
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hardware-detection" class="md-nav__link">
    <span class="md-ellipsis">
      Hardware detection 🛠️
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frontend" class="md-nav__link">
    <span class="md-ellipsis">
      &lt;/> Frontend
    </span>
  </a>
  
    <nav class="md-nav" aria-label="&lt;/&gt; Frontend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#locals" class="md-nav__link">
    <span class="md-ellipsis">
      Locals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pot-pourri" class="md-nav__link">
    <span class="md-ellipsis">
      Pot-pourri
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debug" class="md-nav__link">
    <span class="md-ellipsis">
      🐞 Debug
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-maintenance" class="md-nav__link">
    <span class="md-ellipsis">
      🚧 Code maintenance
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚧 Code maintenance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-one-runtime-design" class="md-nav__link">
    <span class="md-ellipsis">
      The One Runtime Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grid-layout" class="md-nav__link">
    <span class="md-ellipsis">
      Grid layout 🌐
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#layout-transparency-missing-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Layout transparency: missing tests 🌐
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oir-mask-statements" class="md-nav__link">
    <span class="md-ellipsis">
      OIR mask statements 😷
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#else-branches-are-not-preserved" class="md-nav__link">
    <span class="md-ellipsis">
      else branches are not preserved 🔀
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#condition-evaluation-split-from-condition" class="md-nav__link">
    <span class="md-ellipsis">
      Condition evaluation split from condition 🔀
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schedule-tree-horizontal-regions-oob-memlet-warnings" class="md-nav__link">
    <span class="md-ellipsis">
      Schedule tree / horizontal regions: oob memlet warnings ⚠️
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-version-and-numpy-support" class="md-nav__link">
    <span class="md-ellipsis">
      Python version and numpy support 🐍
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stabilize-schedule-tree-and-move-to-dace-20" class="md-nav__link">
    <span class="md-ellipsis">
      Stabilize schedule tree and move to DaCe 2.0 🌳
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-compressed-sdfgs" class="md-nav__link">
    <span class="md-ellipsis">
      Storing compressed SDFGs 🗜️
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interval-context-drop-explicit-parallel" class="md-nav__link">
    <span class="md-ellipsis">
      Interval context: drop explicit PARALLEL 🟰
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-detect-compile-time-constant-conditions" class="md-nav__link">
    <span class="md-ellipsis">
      Auto-detect compile-time constant conditions 🪄
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stencil-call-arguments-shouldnt-be-pruned" class="md-nav__link">
    <span class="md-ellipsis">
      Stencil call arguments shouldn't be pruned 🧹
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ndsl-constants-system" class="md-nav__link">
    <span class="md-ellipsis">
      NDSL constants system 📋
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-system" class="md-nav__link">
    <span class="md-ellipsis">
      🏗️ Build system
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🏗️ Build system">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multi-compiler-native-support" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-compiler native support ⚒️
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reflect-orchestration-in-backend-name" class="md-nav__link">
    <span class="md-ellipsis">
      Reflect orchestration in backend name 🎼
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#move-dace-cache-into-gt4py-cache-folder" class="md-nav__link">
    <span class="md-ellipsis">
      Move dace cache into gt4py cache folder ♻️
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leverage-cmake-in-gt4py-toolchain" class="md-nav__link">
    <span class="md-ellipsis">
      Leverage cmake in GT4Py toolchain 🛠️
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dace-bridge-caching" class="md-nav__link">
    <span class="md-ellipsis">
      Dace bridge caching ♻️
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependabot-for-gha-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Dependabot for GHA dependencies 🤖
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-packaging-questions-ndsl-pyfv3-pyshield-pace" class="md-nav__link">
    <span class="md-ellipsis">
      ✅ Python packaging questions (NDSL, PyFV3, PySHiELD, pace) 🗄️
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#work-organization" class="md-nav__link">
    <span class="md-ellipsis">
      📁 Work organization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="📁 Work organization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-duplication-fragmentation" class="md-nav__link">
    <span class="md-ellipsis">
      Issue duplication / fragmentation 📄
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Dev setup
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Dev setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev-setup/tech-stack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tech stack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev-setup/vscode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VSCode config
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Frontend
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Frontend
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../frontend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../frontend/ndsl_features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NDSL features
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../frontend/experimental_features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Experimental "physics" features
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4_4" id="__nav_3_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ADRs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_4">
            <span class="md-nav__icon md-icon"></span>
            ADRs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../frontend/ADRs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../frontend/ADRs/fields_bundle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fields Bundle
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Porting
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Porting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../porting/translate_test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Translate tests
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Backend work
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Backend work
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backend/schedule-tree/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Schedule Tree bridge
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backend/coding-guidelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Coding guidelines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backend/orchestration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Orchestration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6_5" >
        
          
          <label class="md-nav__link" for="__nav_3_6_5" id="__nav_3_6_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Repositories
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6_5">
            <span class="md-nav__icon md-icon"></span>
            Repositories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backend/repositories/ndsl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NDSL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backend/repositories/gt4py/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GT4Py
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backend/repositories/dace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DaCe
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6_6" id="__nav_3_6_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ADRs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6_6">
            <span class="md-nav__icon md-icon"></span>
            ADRs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backend/ADRs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backend/ADRs/stree/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Schedule tree
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backend/ADRs/stree_dace-version/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Schedule tree (DaCe version)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backend/ADRs/stree_ndsl-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Schedule tree (NDSL integration)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6_7" >
        
          
          <label class="md-nav__link" for="__nav_3_6_7" id="__nav_3_6_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6_7">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backend/dace-bridge/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GT4Py/DaCe bridge via expansion
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    GEOS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            GEOS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEOS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEOS/local_build/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Local build
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEOS/discover_build/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Discover
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEOS/gh200/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PRISM (GH200)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEOS/validation_basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Validation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Component documentation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            Component documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEOS/components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6_2" >
        
          
          <label class="md-nav__link" for="__nav_4_6_2" id="__nav_4_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Dynamics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6_2">
            <span class="md-nav__icon md-icon"></span>
            Dynamics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEOS/components/dynamics/pyFV3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pyFV3
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6_3" >
        
          
          <label class="md-nav__link" for="__nav_4_6_3" id="__nav_4_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Moist
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6_3">
            <span class="md-nav__icon md-icon"></span>
            Moist
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEOS/components/moist/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEOS/components/moist/GF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GF
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEOS/components/moist/GFDL_1M/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GFDL_1M
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEOS/components/moist/RAS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RAS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEOS/components/moist/UW/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UW
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6_4" >
        
          
          <label class="md-nav__link" for="__nav_4_6_4" id="__nav_4_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chemistry
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6_4">
            <span class="md-nav__icon md-icon"></span>
            Chemistry
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEOS/components/chemistry/pchem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PChem
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Start Here!
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    NDSL
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            NDSL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/ndsl_user_manual/ndsl_introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. Introduction to NDSL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/ndsl_user_manual/data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2. Data Types and Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/ndsl_user_manual/writing_ndsl_code/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3. Writing Code with NDSL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/ndsl_user_manual/advanced_features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Advanced Features
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/ndsl_user_manual/backends/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5. Backends
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/ndsl_user_manual/common_patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6. Common Patterns
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/ndsl_user_manual/why_use_classes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7. Why Use Classes?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/ndsl_user_manual/best_coding_practices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8. Best Coding Practices
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    GEOS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            GEOS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/geos_with_ndsl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction to GEOS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Model Development with NDSL
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Model Development with NDSL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/developing_with_ndsl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model Development with NDSL
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    The Code Nebula
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            The Code Nebula
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tcn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tcn/packages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Packages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tcn/results/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Results
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Satellite work
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Satellite work
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../satellite-work/pace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pace
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#performance-related-topics" class="md-nav__link">
    <span class="md-ellipsis">
      ⏱️ Performance related topics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="⏱️ Performance related topics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#planned-optimizations" class="md-nav__link">
    <span class="md-ellipsis">
      Planned optimizations 🚀
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allocation-lifetime-of-temporaries-in-stencils" class="md-nav__link">
    <span class="md-ellipsis">
      Allocation lifetime of temporaries (in stencils) 🗑️
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamics-runtime" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamics runtime 🐌
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-time-of-so-files" class="md-nav__link">
    <span class="md-ellipsis">
      Load time of .so files ⌛
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Load time of .so files ⌛">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#repro" class="md-nav__link">
    <span class="md-ellipsis">
      Repro
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hardware-detection" class="md-nav__link">
    <span class="md-ellipsis">
      Hardware detection 🛠️
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frontend" class="md-nav__link">
    <span class="md-ellipsis">
      &lt;/> Frontend
    </span>
  </a>
  
    <nav class="md-nav" aria-label="&lt;/&gt; Frontend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#locals" class="md-nav__link">
    <span class="md-ellipsis">
      Locals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pot-pourri" class="md-nav__link">
    <span class="md-ellipsis">
      Pot-pourri
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debug" class="md-nav__link">
    <span class="md-ellipsis">
      🐞 Debug
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-maintenance" class="md-nav__link">
    <span class="md-ellipsis">
      🚧 Code maintenance
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚧 Code maintenance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-one-runtime-design" class="md-nav__link">
    <span class="md-ellipsis">
      The One Runtime Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grid-layout" class="md-nav__link">
    <span class="md-ellipsis">
      Grid layout 🌐
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#layout-transparency-missing-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Layout transparency: missing tests 🌐
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oir-mask-statements" class="md-nav__link">
    <span class="md-ellipsis">
      OIR mask statements 😷
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#else-branches-are-not-preserved" class="md-nav__link">
    <span class="md-ellipsis">
      else branches are not preserved 🔀
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#condition-evaluation-split-from-condition" class="md-nav__link">
    <span class="md-ellipsis">
      Condition evaluation split from condition 🔀
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schedule-tree-horizontal-regions-oob-memlet-warnings" class="md-nav__link">
    <span class="md-ellipsis">
      Schedule tree / horizontal regions: oob memlet warnings ⚠️
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-version-and-numpy-support" class="md-nav__link">
    <span class="md-ellipsis">
      Python version and numpy support 🐍
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stabilize-schedule-tree-and-move-to-dace-20" class="md-nav__link">
    <span class="md-ellipsis">
      Stabilize schedule tree and move to DaCe 2.0 🌳
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-compressed-sdfgs" class="md-nav__link">
    <span class="md-ellipsis">
      Storing compressed SDFGs 🗜️
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interval-context-drop-explicit-parallel" class="md-nav__link">
    <span class="md-ellipsis">
      Interval context: drop explicit PARALLEL 🟰
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-detect-compile-time-constant-conditions" class="md-nav__link">
    <span class="md-ellipsis">
      Auto-detect compile-time constant conditions 🪄
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stencil-call-arguments-shouldnt-be-pruned" class="md-nav__link">
    <span class="md-ellipsis">
      Stencil call arguments shouldn't be pruned 🧹
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ndsl-constants-system" class="md-nav__link">
    <span class="md-ellipsis">
      NDSL constants system 📋
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-system" class="md-nav__link">
    <span class="md-ellipsis">
      🏗️ Build system
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🏗️ Build system">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multi-compiler-native-support" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-compiler native support ⚒️
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reflect-orchestration-in-backend-name" class="md-nav__link">
    <span class="md-ellipsis">
      Reflect orchestration in backend name 🎼
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#move-dace-cache-into-gt4py-cache-folder" class="md-nav__link">
    <span class="md-ellipsis">
      Move dace cache into gt4py cache folder ♻️
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leverage-cmake-in-gt4py-toolchain" class="md-nav__link">
    <span class="md-ellipsis">
      Leverage cmake in GT4Py toolchain 🛠️
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dace-bridge-caching" class="md-nav__link">
    <span class="md-ellipsis">
      Dace bridge caching ♻️
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependabot-for-gha-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Dependabot for GHA dependencies 🤖
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-packaging-questions-ndsl-pyfv3-pyshield-pace" class="md-nav__link">
    <span class="md-ellipsis">
      ✅ Python packaging questions (NDSL, PyFV3, PySHiELD, pace) 🗄️
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#work-organization" class="md-nav__link">
    <span class="md-ellipsis">
      📁 Work organization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="📁 Work organization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-duplication-fragmentation" class="md-nav__link">
    <span class="md-ellipsis">
      Issue duplication / fragmentation 📄
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="laundry-list">👕 Laundry list</h1>
<p>This document is a loose list of topics, bringing together planned and known issues from multiple repositories into what we hope is a better overview.</p>
<h2 id="performance-related-topics">⏱️ Performance related topics</h2>
<h3 id="planned-optimizations">Planned optimizations 🚀</h3>
<p>There are a bunch of optimizations that we have planned with the <a href="../backend/schedule-tree/">schedule tree bridge</a> and a bunch of optimization that we need to build back with the new bridge:</p>
<ul>
<li>Different loops per target hardware: like <a href="https://github.com/GridTools/gt4py/blob/a2687f9126d1d27e7caaebf629f9e41035766bb5/src/gt4py/cartesian/backend/dace_backend.py#L75-L120">previously</a>, but less confusing</li>
<li>Tiling: like <a href="https://github.com/GridTools/gt4py/blob/a2687f9126d1d27e7caaebf629f9e41035766bb5/src/gt4py/cartesian/backend/dace_backend.py#L123-L132">previously</a>, but hardware dependent. More details in <a href="https://github.com/GridTools/gt4py/blob/a2687f9126d1d27e7caaebf629f9e41035766bb5/src/gt4py/cartesian/gtc/dace/expansion_specification.py#L237-L240">this file</a>.</li>
<li><abbr title="Central Processing Unit">CPU</abbr>: temps are allocated &amp; de-allocated on the fly</li>
<li>Axis-split merge</li>
<li>Over-computation merge</li>
<li>Local caching</li>
<li>Inline thread-local transients: like <a href="https://github.com/GridTools/gt4py/blob/a2687f9126d1d27e7caaebf629f9e41035766bb5/src/gt4py/cartesian/gtc/dace/transformations.py#L36">previously</a>.</li>
<li>Optimize OpenMP pragmas: Check which of the <a href="https://github.com/GridTools/gt4py/blob/a2687f9126d1d27e7caaebf629f9e41035766bb5/src/gt4py/cartesian/backend/dace_backend.py#L162-L182">previous optimizations</a> still make sense.</li>
<li>We ran a <a href="https://github.com/GridTools/gt4py/blob/a2687f9126d1d27e7caaebf629f9e41035766bb5/src/gt4py/cartesian/gtc/dace/transformations.py#L15-L33">special version</a> of <code>TrivialMapElimination</code> with more condition to when it applies.</li>
<li>Special cases for stencils without effect? They were treated separately in <a href="https://github.com/GridTools/gt4py/blob/a2687f9126d1d27e7caaebf629f9e41035766bb5/src/gt4py/cartesian/backend/dace_backend.py#L148-L152">the previous bridge</a>.</li>
<li>In the previous bridge, we'd <a href="https://github.com/GridTools/gt4py/blob/a2687f9126d1d27e7caaebf629f9e41035766bb5/src/gt4py/cartesian/gtc/dace/expansion/daceir_builder.py#L1042-L1053">merge a horizontal region with the loop bounds</a> in case the horizontal region was the only thing inside that loop.</li>
<li>In the previous bridge, we'd <a href="https://github.com/GridTools/gt4py/blob/a2687f9126d1d27e7caaebf629f9e41035766bb5/src/gt4py/cartesian/gtc/dace/expansion/expansion.py#L149">split horizontal execution regions</a>. This was also used for <a href="https://github.com/NOAA-GFDL/NDSL/blob/2986b450386b5006d847f246ff6e8b23abdc9190/ndsl/dsl/dace/sdfg_opt_passes.py">orchestration in <abbr title="NOAA/NASA Domain Specific Language middleware">NDSL</abbr></a>. To be re-evaluated.</li>
<li>When orchestrating a lot of the fields that are held by the classes (the <code>self.tmp_field</code>) are transient to the local object (could be multiple stencils!) but those are flagged as global memory anyway. Re-scoping them to proper transients could lead to better memory &amp; scalarization. At the <code>stree</code> level we don't scope the arrays to any space, we just flag them and the STREE-to-<abbr title="Stateful Dataflow multiGraphs (DaCe concept)">SDFG</abbr> bridge deals with localizing them. Could we just write a pass scoping the containers post parsing and let the bridge do it?</li>
<li>✅ For stencils only we are missing a <code>simplify</code> (and potentially a <code>validate</code>?) right before <a href="https://github.com/romanc/gt4py/blob/06cd753135d1a6caaabe0aca37cf735fb1d96c52/src/gt4py/cartesian/backend/dace_backend.py#L407">going to code generation</a></li>
<li>Initialization code is not recognized as a special case and badly optimized. Code like this</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>    <span class="k">with</span> <span class="n">computation</span><span class="p">(</span><span class="n">PARALLEL</span><span class="p">),</span> <span class="n">interval</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>        <span class="c1"># Initialize output variables defined for all grid points</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>        <span class="n">dcm_out</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>        <span class="n">cufrc_out</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>        <span class="n">fer_out</span> <span class="o">=</span> <span class="n">constants</span><span class="o">.</span><span class="n">MAPL_UNDEF</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>        <span class="n">fdr_out</span> <span class="o">=</span> <span class="n">constants</span><span class="o">.</span><span class="n">MAPL_UNDEF</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>        <span class="n">qldet_out</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>        <span class="n">qidet_out</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>        <span class="n">qlsub_out</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        <span class="n">qisub_out</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>        <span class="n">ndrop_out</span> <span class="o">=</span> <span class="mf">0.0</span>
</span></code></pre></div>
<p>will cache miss given enough fields when they are, in truth, a <code>memcopy</code> away from being optimized.</p>
<h3 id="allocation-lifetime-of-temporaries-in-stencils">Allocation lifetime of temporaries (in stencils) 🗑️</h3>
<p>IN the OIR -&gt; Schedule Tree bridge, we allocate temporary fields with <code>AllocationLifetime.Persistent</code>. This has been done before (in the initial <abbr title="GridTools for Python">GT4Py</abbr>-<abbr title="Data-Centric Parallel Programming">DaCe</abbr> bridge). This isn't a good default and we tried to change it. Ideally we'd like to keep the scope of temporary fields as small as possible. <code>AllocationLifetime.Global</code> seems like a good default (since <code>AllocationLifetime.Scope</code>is too small for temporaries that are populated in one <code>with computation(..)</code> block and re-used subsequent ones).</p>
<p>We tried allocating temporary field with <code>AllocationLifetime.Global</code> and hit two issues</p>
<ol>
<li>Dead dataflow elimination (DDE) crashed hard when we access (non-scalarized) temporaries with data dimension inside Tasklets (<a href="https://github.com/spcl/dace/issues/2086"><abbr title="Data-Centric Parallel Programming">DaCe</abbr> issue</a>). We put a temporary workaround in place, such that DDE doesn't try to remove such calls.</li>
<li>With the above fix in place, Florian ran into (massive) memory leaks with tracers when running the dycore. Basically, the generated <abbr title="Stateful Dataflow multiGraphs (DaCe concept)">SDFG</abbr> validates, but code generation writes <code>new</code> without corresponding <code>delete[]</code>. It looks like the workaround from above, generates "Zombie 3D fields" (e.g. <code>br</code> which is allocated, never read and never deleted) in <code>FvTp2d</code> under certain conditions. As per Florian, not easy to repro and no smaller repro found thus far.</li>
</ol>
<h3 id="dynamics-runtime">Dynamics runtime 🐌</h3>
<p>Chris reported a runtime of 25 sec per timestep for dynamics (<code>NX=2</code> and <code>NY=12</code>) with <code>gt:cpu_kfirst</code> where the Fortran baseline is only 5 sec / timestep. This is with the new amount of tracers, but still, we shouldn't be so far off.</p>
<h3 id="load-time-of-so-files">Load time of <code>.so</code> files ⌛</h3>
<p>Running (<code>FV3_DACEMODE=Run</code>) the pre-compiled, orchestrated translate test for <code>D_SW</code> shows that the majority of time (5 sec) is spent in loading the <code>.so</code> file, compared to the actual run time (27 ms).</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>2025-07-08 17:44:40|INFO|rank 0|ndsl.logging:[DaCeOrchestration.Run] Rank 0 reading/writing cache .gt_cache_FV3_A
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>[DaCe Config] Rank 0 loading SDFG [...]/PyFV3/.gt_cache_FV3_A/dacecache/pyFV3_stencils_d_sw_DGridShallowWaterLagrangianDynamics___call__
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>2025-07-08 17:44:40|DEBUG|rank 0|ndsl.logging:[DaCeOrchestration.Run] Load precompiled .sdfg (.so)...
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>2025-07-08 17:44:45|DEBUG|rank 0|ndsl.logging:[DaCeOrchestration.Run] Load precompiled .sdfg (.so)...4.979876279830933s.
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>2025-07-08 17:44:45|DEBUG|rank 0|ndsl.logging:[DaCeOrchestration.Run] Run...
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>2025-07-08 17:44:45|DEBUG|rank 0|ndsl.logging:[DaCeOrchestration.Run] Run...0.026755094528198242s.
</span></code></pre></div>
<h4 id="repro">Repro</h4>
<p>Run the orchestrated translate test for <code>D_SW</code> from the PyFV3 repository. Build once with <code>FV3_DACEMODE=Build</code> and then run with <code>FV3_DACEMODE=Run</code>.</p>
<h3 id="hardware-detection">Hardware detection 🛠️</h3>
<p>We might want to centralize hardware detection. We currently</p>
<ul>
<li>detect HW for <abbr title="Central Processing Unit">CPU</abbr>/<abbr title="Graphics Processing Unit">GPU</abbr> through the presence of cupy,</li>
<li>check for <a href="https://github.com/NOAA-GFDL/NDSL/pull/183">GH200 nodes explicitly</a> to build a valid <abbr title="Data-Centric Parallel Programming">DaCe</abbr> config in <abbr title="NOAA/NASA Domain Specific Language middleware">NDSL</abbr>,</li>
<li>and plan to use HW-dependent tiling (in <abbr title="NOAA/NASA Domain Specific Language middleware">NDSL</abbr>/gt4py).</li>
</ul>
<h2 id="frontend">&lt;/&gt; Frontend</h2>
<h3 id="locals">Locals</h3>
<ul>
<li>See <a href="https://github.com/NOAA-GFDL/NDSL/pull/266">PR description</a></li>
</ul>
<h3 id="pot-pourri">Pot-pourri</h3>
<ul>
<li>🐞: Unable to do operation in absolute indexer in stencils.<ul>
<li>This WORKS: <code>field.at(K=k22 - k_index)</code> with <code>k22</code> and <code>k_index</code> as <code>IntField32</code></li>
<li>This FAILS: <code>field.at(K=kbcon - 1)</code> with <code>kbcon</code> as <code>IntField32</code></li>
</ul>
</li>
<li>ChrisH and Katrina report that <code>.at(K=...)</code> only works with 64-bit integers. 2D integer fields (e.g. <code>IntFieldIJ</code>) also seem to make problems. Sounds like this is related to the bug above.</li>
<li>Missing integer divide operator (<code>//</code>) in <abbr title="GridTools for Python">GT4Py</abbr> (<a href="https://github.com/NOAA-GFDL/NDSL/issues/179">issue</a>)</li>
<li>Support for <code>pass</code> inside stencils</li>
<li>Support for use of <code>Enum</code> within the stencils to allow for modes, errors, and other integer based identifiers to be readable</li>
<li>Introduce type hints that would help see which fields are <code>Interface</code>, e.g. a <code>FloatField_KInterface</code> or equivalent</li>
<li>Rename the <code>X|Y|Z_DIM</code> into <code>I|J|K_DIM</code> and overall flush <code>X|Y|Z</code> from the middleware</li>
<li>Grell-Freitas Deep Convection scheme implemented a small perturbation per grid point: we need a way to generate randomness per point</li>
</ul>
<h2 id="debug">🐞 Debug</h2>
<ul>
<li>Most of the time we could do <code>ast.unparse(node)</code> to give a better idea of where the error is, even when the source/line fails.</li>
</ul>
<h2 id="code-maintenance">🚧 Code maintenance</h2>
<h3 id="the-one-runtime-design">The One Runtime Design</h3>
<p><a href="https://github.com/NOAA-GFDL/NDSL/issues/263">The spaghetti code God needs to die.</a></p>
<h3 id="grid-layout">Grid layout 🌐</h3>
<ul>
<li>Issues with 3x3 layouts (because of the tile "in the middle", the one that has no edge/corner) - is this still a problem?</li>
</ul>
<h3 id="layout-transparency-missing-tests">Layout transparency: missing tests 🌐</h3>
<p>We are missing layout transparency tests.</p>
<p>Issue: <a href="https://github.com/NOAA-GFDL/NDSL/issues/131">https://github.com/NOAA-GFDL/NDSL/issues/131</a></p>
<h3 id="oir-mask-statements">OIR mask statements 😷</h3>
<p>There are two issues with OIR mask statements in <abbr title="GridTools for Python">GT4Py</abbr>.</p>
<h3 id="else-branches-are-not-preserved"><code>else</code> branches are not preserved 🔀</h3>
<p>OIR translates</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">if</span> <span class="n">condition</span><span class="p">:</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    <span class="k">pass</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="k">else</span><span class="p">:</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    <span class="k">pass</span>
</span></code></pre></div>
<p>into</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">if</span> <span class="n">condition</span><span class="p">:</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>    <span class="k">pass</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="k">if</span> <span class="ow">not</span> <span class="n">condition</span><span class="p">:</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="k">pass</span>
</span></code></pre></div>
<p>while this is great for e.g. the numpy backend, it makes <abbr title="Data-Centric Parallel Programming">DaCe</abbr> graphs overly complicated and generates ugly (and maybe slow?) C++ code.</p>
<p>The current plan is to work around this by not applying the above transformation if we are lowering to the <abbr title="Data-Centric Parallel Programming">DaCe</abbr> backend. This way, we don't have to add support for <code>else</code>-branches in all other backends.</p>
<h3 id="condition-evaluation-split-from-condition">Condition evaluation split from condition 🔀</h3>
<p>OIR will translate</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">if</span> <span class="n">condition</span><span class="p">:</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>    <span class="k">pass</span>
</span></code></pre></div>
<p>into</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">condition_eval</span> <span class="o">=</span> <span class="n">condition</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="k">if</span> <span class="n">condition_eval</span><span class="p">:</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    <span class="k">pass</span>
</span></code></pre></div>
<p>in case <code>condition</code> contains a <code>FieldAccess</code>. While this is great for e.g. the numpy backend, it makes <abbr title="Data-Centric Parallel Programming">DaCe</abbr> graphs overly complicated and generates ugly (and maybe slow?) C++ code. This optimization should be a backend choice (e.g. be applied after OIR).</p>
<p>The current plan is to work around this by not applying the above transformation if we are lowering to the <abbr title="Data-Centric Parallel Programming">DaCe</abbr> backend. This way, we don't have to touch all other backends.</p>
<h3 id="schedule-tree-horizontal-regions-oob-memlet-warnings">Schedule tree / horizontal regions: oob memlet warnings ⚠️</h3>
<p><abbr title="Data-Centric Parallel Programming">DaCe</abbr> (most times?) emits warnings about potential out of bound memory access when horizontal regions are used. We think this is okay (e.g. we think there are no out-of-bounds memory accesses) and tracked it down to how we setup the data, define the iteration variable and how we set the Memlets.</p>
<p>Ideally, we'd like to refactor data setup, iteration scopes and memlet definition such that the warning disappears. Since validation is okay and this warning has been there before, we don't take immediate action.</p>
<p>Issues:</p>
<ul>
<li><a href="https://github.com/GridTools/gt4py/issues/727">https://github.com/GridTools/gt4py/issues/727</a> (mentions "add issue (and fix) for negative origins in <abbr title="Data-Centric Parallel Programming">DaCe</abbr>-orchestrated context")</li>
</ul>
<h3 id="python-version-and-numpy-support">Python version and numpy support 🐍</h3>
<p><abbr title="NOAA/NASA Domain Specific Language middleware">NDSL</abbr> python version support is currently hard-coded to 3.11. Moving on to 3.12 reportedly breaks things. To be investigated.</p>
<p>Bottom line, this will come in the future as 3.12 is the last to support numpy &lt; 2.0. <abbr title="Data-Centric Parallel Programming">DaCe</abbr> and <abbr title="GridTools for Python">GT4Py</abbr> (next) moved to support numpy 2.0. Python version 3.12 (see discussion above) is the last python version to support 1.26.4.</p>
<h3 id="stabilize-schedule-tree-and-move-to-dace-20">Stabilize schedule tree and move to <abbr title="Data-Centric Parallel Programming">DaCe</abbr> 2.0 🌳</h3>
<p><abbr title="Data-Centric Parallel Programming">DaCe</abbr> stopped feature development on the v1 branch (only critical fixes can go in) and is working actively on shaping the next major version. According to Tal, <abbr title="Data-Centric Parallel Programming">DaCe</abbr> 2.0 will be much nicer and fix everything ;)</p>
<p>We built the schedule tree on top of the v1 branch <a href="../backend/ADRs/stree_dace-version/">see here why</a> and are thus currently in limbo between versions. We'll need to update once <abbr title="Data-Centric Parallel Programming">DaCe</abbr> 2.0 gets stable or - at least - takes shape.</p>
<h3 id="storing-compressed-sdfgs">Storing compressed SDFGs 🗜️</h3>
<p><abbr title="Data-Centric Parallel Programming">DaCe</abbr> has the option to store SDFGs in compressed format. Since SDFGs are stored as (human readable) plain-text json, this can reduce file sizes drastically. To be evaluated if this has a negative impact on save &amp; load times. The hypothesis is no, but it's always better to check and there are probably a bunch of hard-coded <code>.sdfg</code> extension that need to be adapted.</p>
<h3 id="interval-context-drop-explicit-parallel">Interval context: drop explicit <code>PARALLEL</code> 🟰</h3>
<p>Currently, users need to specify whether their stencil can run in parallel or not. From data dependency analysis, we should be able to derive if it is safe to run a stencil in parallel or not. The would allow us to remove the <code>PARALLEL</code> option and auto-magically enable parallelism when possible.</p>
<p>Issue: <a href="https://github.com/GridTools/gt4py/issues/1009">https://github.com/GridTools/gt4py/issues/1009</a></p>
<h3 id="auto-detect-compile-time-constant-conditions">Auto-detect compile-time constant conditions 🪄</h3>
<p>Currently, users can mark compile-time constant conditions with the <code>__INLINED</code> keyword. Since we are a <abbr title="Domain Specific Language">DSL</abbr> and since the idea is that users shouldn't need to care, we'd like to detect auto-magically when a condition is compile-time constant. We can then automatically remove compile-time constant conditions that evaluate to <code>False</code>.</p>
<p>Issue:<a href="https://github.com/GridTools/gt4py/issues/1011">https://github.com/GridTools/gt4py/issues/1011</a></p>
<h3 id="stencil-call-arguments-shouldnt-be-pruned">Stencil call arguments shouldn't be pruned 🧹</h3>
<p>We might find arguments to be unused or we might make them unused by removing compile-time constant branches of conditions. Even in these scenarios, we shouldn't attempt to remove call arguments because this is hard to trace through all backends and shouldn't have any noticeable performance impact. A general compiler should be able to prune unused function arguments.</p>
<p>Issues:</p>
<ul>
<li><a href="https://github.com/GridTools/gt4py/issues/710">https://github.com/GridTools/gt4py/issues/710</a></li>
<li><a href="https://github.com/GridTools/gt4py/issues/1010">https://github.com/GridTools/gt4py/issues/1010</a></li>
<li><a href="https://github.com/GridTools/gt4py/issues/2083">https://github.com/GridTools/gt4py/issues/2083</a></li>
<li><a href="https://github.com/NOAA-GFDL/NDSL/issues/70">https://github.com/NOAA-GFDL/NDSL/issues/70</a></li>
</ul>
<p>We should double-check everything, but it seems like the gt4py/dace bridge based on schedule tree fixed that (at least for the moment - not that it's not still fragile).</p>
<h3 id="ndsl-constants-system"><abbr title="NOAA/NASA Domain Specific Language middleware">NDSL</abbr> constants system 📋</h3>
<p>There are a bunch of issue floating around (in <abbr title="NOAA/NASA Domain Specific Language middleware">NDSL</abbr>) about constants and that they should be refactored into a new/better system.</p>
<p>Issues:</p>
<ul>
<li><a href="https://github.com/NOAA-GFDL/NDSL/issues/6">https://github.com/NOAA-GFDL/NDSL/issues/6</a></li>
<li><a href="https://github.com/NOAA-GFDL/NDSL/issues/32">https://github.com/NOAA-GFDL/NDSL/issues/32</a></li>
<li><a href="https://github.com/NOAA-GFDL/NDSL/issues/64">https://github.com/NOAA-GFDL/NDSL/issues/64</a></li>
</ul>
<h2 id="build-system">🏗️ Build system</h2>
<h3 id="multi-compiler-native-support">Multi-compiler native support ⚒️</h3>
<ul>
<li><code>clang</code> compilation fails on <code>dace:cpu</code> because of <code>-fopenmp</code> default flag</li>
<li><code>icc</code>/<code>ifx</code> support (<abbr title="National Oceanic and Atmospheric Administration">NOAA</abbr> tried and Frank has an <a href="https://github.com/xyuan/pace/blob/xyuan/symbol/examples/build_scripts/build_ppan_intel.sh">old branch from Xingqiu</a>)</li>
</ul>
<h3 id="reflect-orchestration-in-backend-name">Reflect orchestration in backend name 🎼</h3>
<p>Currently, orchestration (or not) defined as a combination of backend name <code>dace:{cpu, gpu}</code> and the environment variable <code>FV3_DACEMODE</code>.</p>
<p>Issue: <a href="https://github.com/NOAA-GFDL/NDSL/issues/46">https://github.com/NOAA-GFDL/NDSL/issues/46</a></p>
<h3 id="move-dace-cache-into-gt4py-cache-folder">Move dace cache into gt4py cache folder ♻️</h3>
<p>Issue: <a href="https://github.com/GridTools/gt4py/issues/1035">https://github.com/GridTools/gt4py/issues/1035</a></p>
<h3 id="leverage-cmake-in-gt4py-toolchain">Leverage cmake in <abbr title="GridTools for Python">GT4Py</abbr> toolchain 🛠️</h3>
<p>In GT4py, we'd like to move away from setuptools and leverage cmake. This will unlock goodies like parallel compilation and more modern build backends (e.g. we might give ninja a try), which will hopefully speed up code generation.</p>
<p>Issue: <a href="https://github.com/GridTools/gt4py/issues/83">https://github.com/GridTools/gt4py/issues/83</a></p>
<h3 id="dace-bridge-caching">Dace bridge caching ♻️</h3>
<p>The OIR -&gt; schedule tree -&gt; <abbr title="Stateful Dataflow multiGraphs (DaCe concept)">SDFG</abbr> bridge has support for caching the generated (unspecific) <abbr title="Stateful Dataflow multiGraphs (DaCe concept)">SDFG</abbr>. It's used as "online" caching where the first <abbr title="Stateful Dataflow multiGraphs (DaCe concept)">SDFG</abbr> is always generated (and then written to disk for re-use). We could expand this to "offline" caching where we'd fist check if an <abbr title="Stateful Dataflow multiGraphs (DaCe concept)">SDFG</abbr> exists on disk and use this one if it does.</p>
<h3 id="dependabot-for-gha-dependencies">Dependabot for GHA dependencies 🤖</h3>
<p>Dependabot can be used to keep dependencies up to date. We could start by letting the bot check versions of GitHub Actions. In the <code>pace</code> repo, there's even a <a href="https://github.com/NOAA-GFDL/pace/blob/develop/.github/dependabot.yml">dormant <code>dependabot.yml</code> config</a> for updating the submodules.</p>
<h3 id="python-packaging-questions-ndsl-pyfv3-pyshield-pace">✅ Python packaging questions (<abbr title="NOAA/NASA Domain Specific Language middleware">NDSL</abbr>, PyFV3, PySHiELD, pace) 🗄️</h3>
<p>We are considering to move to <code>pyproject.toml</code>. Some questions about developer installs remain.</p>
<p>Issues:</p>
<ul>
<li><a href="https://github.com/NOAA-GFDL/NDSL/issues/138">https://github.com/NOAA-GFDL/NDSL/issues/138</a></li>
<li><a href="https://github.com/NOAA-GFDL/PyFV3/issues/52">https://github.com/NOAA-GFDL/PyFV3/issues/52</a></li>
<li><a href="https://github.com/NOAA-GFDL/pace/issues/118">https://github.com/NOAA-GFDL/pace/issues/118</a></li>
<li><a href="https://github.com/NOAA-GFDL/PySHiELD/issues/32">https://github.com/NOAA-GFDL/PySHiELD/issues/32</a></li>
</ul>
<h2 id="work-organization">📁 Work organization</h2>
<h3 id="issue-duplication-fragmentation">Issue duplication / fragmentation 📄</h3>
<p>For <a href="../../project2426/milestone1/">milestone 1</a>, we were using a GitHub project in the <code>GEOS-ESM</code> organization. This forced us to have a fork of <abbr title="NOAA/NASA Domain Specific Language middleware">NDSL</abbr> under that organization, which lead to issue fragmentation / duplication on that fork. We should find the time to clean <a href="https://github.com/GEOS-ESM/NDSL/issues">these issues</a>.</p>
<!-- institutions / groups / teams -->

<!-- technology -->

<!-- GEOS Fortran names -->

<!-- other -->












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["search.suggest", "search.highlight", "search.share"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>